<VirtualHost *:80>
    ServerName cardvisor
    DocumentRoot /var/www/html
    
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
    
    <Directory /var/www/html>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # HTTP 요청을 HTTPS로 리다이렉트
    # RewriteEngine On
    # RewriteCond %{HTTPS} off
    # RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R,L]

    # 요청 경로가 실제로 존재하지 않으면 index.html 반환
    # <IfModule mod_rewrite.c>
    #     RewriteEngine On
    #     RewriteBase /
    #     RewriteRule ^index\.html$ - [L]
    #     RewriteCond %{REQUEST_FILENAME} !-f
    #     RewriteCond %{REQUEST_FILENAME} !-d
    #     RewriteRule . /index.html [L]
    # </IfModule>

    # ProxyPass / http://localhost:3000
    # ProxyPassReverse / http://localhost:3000
    ProxyRequests Off
    ProxyPreserveHost On
    ProxyPass /api http://localhost:7777/api
    ProxyPassReverse /api http://localhost:7777/api

</VirtualHost>
